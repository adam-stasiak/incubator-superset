---
name: Google BigQuery
menu: Connecting to Databases
route: /docs/databases/bigquery
index: 16
version: 1
---

## Google BigQuery

The recommended connector library for BigQuery is
[pybigquery](https://github.com/mxmzdlv/pybigquery). 

In order to use pybigquery with docker-compose it is needed to extend requirements file with BigQuery specific packages described in [installing-database-drivers guide](../installing-database-drivers).

When adding a new BigQuery connection in Superset, you'll need to create and use GCP Service Account
credentials file (as a JSON).

1. Create your Service Account via the Google Cloud Platform control panel, provide it access to the
   appropriate BigQuery datasets, and download the JSON configuration file for the service account.

2. Make sure your Service Account meets required permissions from groups: BigQueryDataEditor,BigQueryUser. 

3. In Superset database config modal (Data -> Databases -> + Database), add database URI (```bigquery://{project_id}```),name and a JSON blob to the **Secure Extra** field in the database configuration form with
   the following format:

```
{
    "credentials_info": {
        "type": "service_account",
        "project_id": "...",
        "private_key_id": "...",
        "private_key": "...",
        "client_email": "...",
        "client_id": "...",
        "auth_uri": "...",
        "token_uri": "...",
        "auth_provider_x509_cert_url": "...",
        "client_x509_cert_url": "...",
    }
}
```

You should then be able now to connect to your BigQuery datasets.

To be able to upload CSV or Excel files to BigQuery in Superset, you'll need to also add the
[pandas_gbq](https://github.com/pydata/pandas-gbq) library.
